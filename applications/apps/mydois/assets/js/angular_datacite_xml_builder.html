<!-- <a href="" ng-click="update()">Update</a> -->
<div class="widget-box" style="margin-top:0">
    <div class="widget-title">
        <h5>Mandatory Elements</h5>
    </div>

    <div class="widget-content">
        <div class="input-prepend input-append">
            <span class="add-on">DOI</span>
            <input type="text" ng-model="objectModel.resource[0].identifier[0]._text" readonly="readonly">
        </div>
    </div>

    <div class="widget-content">
        <label class="control-label">Title</label>
        <datacite-twin-item-form
            ng-repeat="title in objectModel.resource[0].titles[0].title track by $index"
            item="title"
            readonly="readonly"
            list="objectModel.resource[0].titles[0].title"
            index="$index"
            optiontype="'titleType'"></datacite-twin-item-form>
        <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].titles[0], 'title')"><i class="icon-plus"></i> Add Title</a>
    </div>

    <div class="widget-content">
        <datacite-twin-item-form
            item="objectModel.resource[0].publisher[0]"
            label="'Publisher'"
            readonly="readonly"
            ></datacite-twin-item-form>
        <datacite-twin-item-form
            item="objectModel.resource[0].publicationYear[0]"
            label="'Publication Year'"
            readonly="readonly"
            ></datacite-twin-item-form>
    </div>



    <div class="widget-content">
        <div class="control-group" ng-repeat="creator in objectModel.resource[0].creators[0].creator track by $index">
            <label class="control-label">Creator</label>
            <div class="controls">
                <div class="input-prepend input-append">
                    <span class="add-on">Creator Name</span>
                    <input type="text" placeholder="Creator Name"  ng-model="creator.creatorName[0]._text" ng-readonly="readonly"/>
                </div>
                <div class="input-prepend input-append">
                    <span class="add-on">Creator Affiliations</span>
                    <input type="text" placeholder="Creator Affiliations" ng-model="creator.affiliation[0]._text" ng-readonly="readonly"/>
                </div>
                <div class="input-prepend input-append">
                    <span class="add-on">Name Identifier</span>
                    <input type="text" placeholder="Creator Name Identifier" ng-model="creator.nameIdentifier[0]._text" ng-readonly="readonly"/>
                </div>
                <div class="input-prepend input-append">
                    <span class="add-on">Name Identifier Scheme</span>
                    <input type="text" placeholder="Creator Name Identifier Scheme" ng-model="creator.nameIdentifier[0]._attr.nameIdentifierScheme._value" ng-readonly="readonly"/>
                </div>
                <div class="input-prepend input-append" style="display:inline-block">
                    <span class="add-on">Scheme URI</span>
                    <input type="text" placeholder="Scheme URI" ng-model="creator.nameIdentifier[0]._attr.schemeURI._value" ng-readonly="readonly"/>
                </div>

                <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].creators[0].creator, $index)"><i class="icon-remove"></i></a>
            </div>
        </div>
        <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].creators[0], 'creator')"><i class="icon-plus"></i> Add Creator</a>
    </div>

</div>

<div class="widget-box">
    <div class="widget-title" ng-click="show_recommended=!show_recommended">
        <span class="icon">
            <i class="icon-plus" ng-class="{false:'icon-plus',true: 'icon-minus'}[show_recommended]"></i>
        </span>
        <h5>Recommended Elements</h5>
    </div>

    <div ng-if="show_recommended">
        <div class="widget-content">
            <div class="control-group" ng-repeat="subject in objectModel.resource[0].subjects[0].subject track by $index">
                <label class="control-label">Subject</label>
                <div class="controls">
                    <div class="input-prepend input-append">
                        <span class="add-on">Subject</span>
                        <input ng-readonly="readonly" type="text" placeholder="Subject"  ng-model="subject._text"/>
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Subject Scheme</span>
                        <input ng-readonly="readonly" type="text" placeholder="Subject Scheme" ng-model="subject._attr.subjectScheme._value"/>
                    </div>

                    <div class="input-prepend input-append" style="display:inline-block">
                        <span class="add-on">Subject Scheme URI</span>
                        <input ng-readonly="readonly" type="text" placeholder="Subject Scheme URI" ng-model="subject._attr.schemeURI._value"/>
                    </div>

                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].subjects[0].subject, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].subjects[0], 'subject')"><i class="icon-plus"></i> Add Subject</a>
        </div>

        <div class="widget-content">
            <div class="control-group" ng-repeat="contributor in objectModel.resource[0].contributors[0].contributor track by $index">
                <label class="control-label">Contributor</label>
                <div class="controls">
                    <div class="input-prepend input-append">
                        <span class="add-on">Contributor</span>
                        <div class="btn-group" style="display:inline-block;">
                            <button class="btn dropdown-toggle" data-toggle="dropdown">
                                {{ contributor._attr.contributorType._value ? contributor._attr.contributorType._value : 'Type'}} <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat="j in availableOptions['contributorType']">
                                    <a href="" ng-click="setOption(contributor, 'contributorType', j)">{{ j }}</a>
                                </li>
                            </ul>
                        </div>
                        <input ng-readonly="readonly" type="text" ng-model="contributor.contributorName[0]._text" placeholder="Contributor Name">
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Affiliation</span>
                        <input ng-readonly="readonly" type="text" placeholder="Affiliation" ng-model="contributor.affiliation[0]._text"/>
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Name Identifier</span>
                        <input ng-readonly="readonly" type="text" placeholder="Name Identifier" ng-model="contributor.nameIdentifier[0]._text"/>
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Name Identifier Scheme</span>
                        <input ng-readonly="readonly" type="text" placeholder="Name Identifier Scheme" ng-model="contributor.nameIdentifier[0]._attr.nameIdentifierScheme._value"/>
                    </div>

                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Name Identifier Scheme URI</span>
                        <input ng-readonly="readonly" type="text" placeholder="Name Identifier Scheme URI" ng-model="contributor.nameIdentifier[0]._attr.schemeURI._value"/>
                    </div>

                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].contributors[0].contributor, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].contributors[0], 'contributor')"><i class="icon-plus"></i> Add Contributor</a>
        </div>

        <div class="widget-content">
            <datacite-twin-item-form
                ng-repeat="date in objectModel.resource[0].dates[0].date track by $index"
                item="date"
                list="objectModel.resource[0].dates[0].date"
                index="$index"
                readonly="readonly"
                optiontype="'dateType'"></datacite-twin-item-form>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].dates[0], 'date')"><i class="icon-plus"></i> Add Date</a>
        </div>

        <div class="widget-content">
            <datacite-twin-item-form
                item="objectModel.resource[0].resourceType[0]"
                index="$index"
                label="'Resource'"
                readonly="readonly"
                optiontype="'resourceTypeGeneral'"></datacite-twin-item-form>
        </div>

        <div class="widget-content">
            <div class="control-group" ng-repeat="relatedIdentifier in objectModel.resource[0].relatedIdentifiers[0].relatedIdentifier track by $index">
                <label class="control-label">Related Identifier</label>
                <div class="controls">

                    <div class="input-prepend input-append">
                        <span class="add-on">Related Identifier</span>
                        <div class="btn-group" style="display:inline-block;">
                            <button class="btn dropdown-toggle" data-toggle="dropdown">
                                {{ relatedIdentifier._attr.relatedIdentifierType._value ? relatedIdentifier._attr.relatedIdentifierType._value : 'Type' }} <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat="j in availableOptions['relatedIdentifierType']">
                                    <a href="" ng-click="setOption(relatedIdentifier, 'relatedIdentifierType', j)">{{ j }}</a>
                                </li>
                            </ul>
                        </div>
                        <input ng-readonly="readonly" type="text" ng-model="relatedIdentifier._text" placeholder="Related Identifier">
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Relation Type</span>
                        <select ng-options="item as item for item in availableOptions['relationType']" ng-model="relatedIdentifier._attr.relationType._value" placeholder="relationType"></select>
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">Related Metadata Scheme</span>
                        <input ng-readonly="readonly" type="text" placeholder="Related Metadata Scheme" ng-model="relatedIdentifier._attr.relatedMetadataScheme._value"/>
                    </div>

                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Scheme URI</span>
                        <input ng-readonly="readonly" type="text" placeholder="Scheme URI" ng-model="relatedIdentifier._attr.schemeURI._value"/>
                    </div>


                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].relatedIdentifiers[0].relatedIdentifier, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].relatedIdentifiers[0], 'relatedIdentifier')"><i class="icon-plus"></i> Add Related Identifier</a>
        </div>

        <div class="widget-content">
            <datacite-twin-item-form
                ng-repeat="description in objectModel.resource[0].descriptions[0].description track by $index"
                item="description"
                list="objectModel.resource[0].descriptions[0].description"
                index="$index"
                readonly="readonly"
                optiontype="'descriptionType'"
                ></datacite-twin-item-form>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].descriptions[0], 'description')"><i class="icon-plus"></i> Add Description</a>
        </div>

        <div class="widget-content">
            <div class="control-group" ng-repeat="geoLocation in objectModel.resource[0].geoLocations[0].geoLocation track by $index">
                <label class="control-label">geoLocation</label>
                <div class="controls">

                    <div class="input-prepend input-append">
                        <span class="add-on">geoLocation Point</span>
                        <input ng-readonly="readonly" type="text" placeholder="geoLocation Point"  ng-model="geoLocation.geoLocationPoint[0]._text"/>
                    </div>

                    <div class="input-prepend input-append">
                        <span class="add-on">geoLocation Box</span>
                        <input ng-readonly="readonly" type="text" placeholder="geoLocation Box" ng-model="geoLocation.geoLocationBox[0]._text"/>
                    </div>

                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">geoLocation Place</span>
                        <input ng-readonly="readonly" type="text" placeholder="geoLocation Place" ng-model="geoLocation.geoLocationPlace[0]._text"/>
                    </div>

                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].geoLocations[0].geoLocation, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].geoLocations[0], 'geoLocation')"><i class="icon-plus"></i> Add geoLocation</a>
        </div>
    </div>
</div>

<div class="widget-box">
    <div class="widget-title" ng-click="show_other=!show_other">
        <span class="icon">
            <i class="icon-plus" ng-class="{false:'icon-plus',true: 'icon-minus'}[show_other]"></i>
        </span>
        <h5>Other Elements</h5>
    </div>

    <div ng-if="show_other">
        <div class="widget-content">
            <datacite-twin-item-form
                item="objectModel.resource[0].language"
                label="'Language'"
                readonly="readonly"
                ></datacite-twin-item-form>
        </div>

        <div class="widget-content">
            <div class="control-group" ng-repeat="alternateIdentifier in objectModel.resource[0].alternateIdentifiers[0].alternateIdentifier track by $index">
                <div class="controls">
                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Alternative Identifier</span>
                        <input ng-readonly="readonly" type="text" placeholder="Alternative Identifier"  ng-model="alternateIdentifier._text"/>
                    </div>
                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Type</span>
                        <input ng-readonly="readonly" type="text" placeholder="Alternative Identifier Type" ng-model="alternateIdentifier._attr.alternateIdentifierType._value"/>
                    </div>



                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].alternateIdentifiers[0].alternateIdentifier, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].alternateIdentifiers[0], 'alternateIdentifier')"><i class="icon-plus"></i> Add Alternative Identifier</a>
        </div>


        <div class="widget-content">
            <datacite-twin-item-form
                ng-repeat="size in objectModel.resource[0].sizes[0].size track by $index"
                item="size"
                list="objectModel.resource[0].sizes[0].size"
                index="$index"
                readonly="readonly"
                label="'Size'"
                ></datacite-twin-item-form>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].sizes[0], 'size')"><i class="icon-plus"></i> Add Size</a>
        </div>

        <div class="widget-content">
            <datacite-twin-item-form
                ng-repeat="format in objectModel.resource[0].formats[0].format track by $index"
                item="format"
                list="objectModel.resource[0].formats[0].format"
                index="$index"
                label="'Format'"
                readonly="readonly"
                ></datacite-twin-item-form>
            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].formats[0], 'format')"><i class="icon-plus"></i> Add Format</a>
        </div>

        <div class="widget-content">
            <datacite-twin-item-form
                item="objectModel.resource[0].version[0]"
                label="'Version'"
                readonly="readonly"
                ></datacite-twin-item-form>
        </div>

        <div class="widget-content">
            <div class="control-group" ng-repeat="rights in objectModel.resource[0].rightsList[0].rights track by $index">
                <label class="control-label">Rights</label>
                <div class="controls">
                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Rights</span>
                        <input ng-readonly="readonly" type="text" placeholder="Rights"  ng-model="rights._text"/>
                    </div>
                    <div class="input-prepend input-append" style="display:inline-block;">
                        <span class="add-on">Rights URI</span>
                        <input ng-readonly="readonly" type="text" placeholder="Rights URI" ng-model="rights._attr.rightsURI._value"/>
                    </div>

                    <a ng-if="!readonly" href="" ng-click="remove(objectModel.resource[0].rightsList[0].rights, $index)"><i class="icon-remove"></i></a>
                </div>
            </div>

            <a ng-if="!readonly" href="" class="btn" ng-click="add(objectModel.resource[0].rightsList[0], 'rights')"><i class="icon-plus"></i> Add rights</a>
        </div>
    </div>
</div>
